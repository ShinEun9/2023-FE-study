<!DOCTYPE html>
<html lang="ko-KR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스코프</title>
</head>

<body>
    <script>
        // let과 const는 블록레벨 스코프를 가지고 있음
        // 스코프: 변수에 접근할 수 있는 유효범위
        // 전역스코프
        // 함수스코프
        // 블록스코프(ES6)

        {
            let x = 10;
            const y = 20;
            var z = 30;
        }
        // console.log(x); // 에러
        // console.log(y); // 에러
        console.log(z);

        // 지역변수와 전역변수
        let x = 100; // 블록 밖에 선언하면 전역에서 접근할 수 있는 변수가 됨. 이를 전역변수라 함.
        function 함수() {
            let y = 20; // 블록 안에 변수를 선언하면 밖에서 접근할 수 없음. 이를 지역변수라 함.
            console.log(x)
            // 스코프 체이닝
            // 스코프 체인을 따라 해당 영역에 변수가 없으면 계속해서 상위 스코프를 따라 올라감, 
            // 전역까지 올라갔는데도 변수가 없다면 에러가 남
        }
        함수();


        let y = 10;
        function 함수1() {
            let y = 20;
            function 함수2() {
                function 함수3() {
                    console.log(y)
                }
                함수3()
            }
            함수2()
        }
        함수1() // 20 출력

        ////////////////////////////////////////////////////////////////////////////////
        // 함수의 호이스팅(함수나 변수를 끌어올려주는 것), 함수표현식은 호이스팅 안됨.
        {
            함수(10);
            function 함수(x) {
                console.log(x + 100)
                return x + 100;
            }
        }
    </script>
</body>

</html>